.blocknode-list {
  -webkit-font-smoothing: antialiased;
}

.font-body {
  font-family: Georgia, 'Times New Roman', Times, serif !important;
}

p.block-paragraph,
p.block-paragraph * :not(.text-code) {
  font-family: Georgia, 'Times New Roman', Times, serif !important;
}

p.block-paragraph.is-comment,
p.block-paragraph.is-comment *:not(.text-code) {
  font-family:
    'Inter',
    'SF Pro Display',
    -apple-system,
    BlinkMacSystemFont,
    'Open Sans',
    'Segoe UI',
    'Roboto',
    'Oxygen',
    'Ubuntu',
    'Cantarell',
    'Fira Sans',
    'Droid Sans',
    'Helvetica Neue',
    sans-serif !important;
}

.block-embed .block-embed {
  border-right-width: 0px;
}

.block-embed .block-embed > .embed-side-annotation,
.feed-item-container .embed-side-annotation {
  display: none !important;
}

.blocknode-content {
  scroll-margin-top: 72px;
}

/* Collapse button positioning CSS variables */
:root {
  /* Heading baseline offsets - aligned with visual text baseline */
  --heading-1-baseline-mobile: 0.5rem; /* 24px font → 8px offset */
  --heading-1-baseline-desktop: 0.625rem; /* 30px font → 10px offset */
  --heading-2-baseline-mobile: 0.4rem; /* 20px font → 6.4px offset */
  --heading-2-baseline-desktop: 0.5rem; /* 24px font → 8px offset */
  --heading-3-baseline-mobile: 0.375rem; /* 18px font → 6px offset */
  --heading-3-baseline-desktop: 0.4rem; /* 20px font → 6.4px offset */
  --heading-4-baseline-mobile: 0.375rem; /* 16px font → 6px offset */
  --heading-4-baseline-desktop: 0.375rem; /* 18px font → 6px offset */
  --paragraph-baseline: 0.375rem; /* 18px font → 6px offset */
}

/* New Tailwind-based list styling */
.blocknode-list[data-list-type='Unordered'] > .blocknode-content {
  display: list-item !important;
  list-style-position: outside;
}

.blocknode-list[data-list-type='Ordered'] > .blocknode-content {
  display: list-item !important;
  list-style-position: outside;
}

.blocknode-list > .blocknode-content > .relative {
  position: relative;
  display: block;
}

.blocknode-list
  > .blocknode-content
  > .relative
  > [data-slot='popover-trigger'] {
  display: contents;
}

.blocknode-list > .blocknode-content p {
  margin: 0;
}

/* Collapse button baseline alignment for different block types */

/* Text blocks - baseline alignment */

/* Paragraph blocks - align to baseline of ~18px text with 1.5 line-height */
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='Paragraph'] {
  top: var(--paragraph-baseline);
}

/* Heading blocks - align based on depth/level */

/* Level 1 headings (depth=1): 24px mobile / 30px desktop */
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='Heading'][data-depth='1'] {
  top: var(--heading-1-baseline-mobile);
}

@media (min-width: 768px) {
  .blocknode-content
    .relative
    > [data-slot='tooltip-trigger']
    button[data-block-type='Heading'][data-depth='1'] {
    top: var(--heading-1-baseline-desktop);
  }
}

/* Level 2 headings (depth=2): 20px mobile / 24px desktop */
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='Heading'][data-depth='2'] {
  top: var(--heading-2-baseline-mobile);
}

@media (min-width: 768px) {
  .blocknode-content
    .relative
    > [data-slot='tooltip-trigger']
    button[data-block-type='Heading'][data-depth='2'] {
    top: var(--heading-2-baseline-desktop);
  }
}

/* Level 3 headings (depth=3): 18px mobile / 20px desktop */
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='Heading'][data-depth='3'] {
  top: var(--heading-3-baseline-mobile);
}

@media (min-width: 768px) {
  .blocknode-content
    .relative
    > [data-slot='tooltip-trigger']
    button[data-block-type='Heading'][data-depth='3'] {
    top: var(--heading-3-baseline-desktop);
  }
}

/* Level 4 headings (depth=4): 16px mobile / 18px desktop */
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='Heading'][data-depth='4'] {
  top: var(--heading-4-baseline-mobile);
}

@media (min-width: 768px) {
  .blocknode-content
    .relative
    > [data-slot='tooltip-trigger']
    button[data-block-type='Heading'][data-depth='4'] {
    top: var(--heading-4-baseline-desktop);
  }
}

/* Media blocks - center alignment */

/* Image, Video, WebEmbed, Code, Math, File blocks - center on block content */
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='Image'],
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='Video'],
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='WebEmbed'],
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='Code'],
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='Math'],
.blocknode-content
  .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='File'] {
  top: 50%;
  transform: translateY(-50%);
}

/* Embed blocks use centered alignment */
.blocknode-content
  > .relative
  > [data-slot='tooltip-trigger']
  button[data-block-type='Embed'] {
  top: 50%;
  transform: translateY(-50%);
}

/* Legacy CSS for old _BlockNodeList (can be removed once migration is complete) */
/* .blocknode-list[data-list-type='Unordered'] > ul > .blocknode-content {
  display: list-item !important;
} */

/* .blocknode-list[data-list-type='Ordered'] > ol > .blocknode-content {
  display: list-item !important;
} */

/* .blocknode-list[data-list-type='Unordered'] > ul {
  margin-left: 0.2em;
  list-style-type: disc !important;
  list-style-position: outside;
} */

/* .blocknode-list[data-list-type='Ordered'] > ol {
  margin-left: 0.2em;
  list-style-type: decimal !important;
  list-style-position: outside;
} */

.blocknode-list[data-list-type='Blockquote'] > blockquote {
  all: unset !important;
}

/* .blocknode-list[data-list-level='2'] > ul {
  list-style-type: circle !important;
  list-style-position: outside;
} */

.blocknode-list[data-list-level='3'] > ul {
  list-style-type: square !important;
  list-style-position: outside;
}

.blocknode-content-heading ~ [data-list-type='Group'] {
  padding-left: 0 !important;
}

/* Default margin for all headings */
[data-block-type='Heading'] {
  margin-bottom: 20px;
}

/* Reset margin for consecutive headings */
[data-block-type='Heading'] + [data-block-type='Heading'] {
  margin-top: -20px; /* Cancel out the previous element's margin */
}

.bottom-gradient {
  position: relative;
}

.bottom-gradient:after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 40px;
  z-index: 1000;
  background: var(--color-secondary);
  background: linear-gradient(
    0deg,
    var(--color-secondary) 5%,
    var(--color-secondary) 100%
  );
}

[data-list-type='Ordered']
  > [data-node-type='blockContainer']
  > [data-list-type='Group'],
[data-list-type='Unordered']
  > [data-node-type='blockContainer']
  > [data-list-type='Group'] {
  padding-left: 0;
}

.hm-embed-range-wrapper span:not(.hm-embed-range) {
  display: none !important;
}

.hm-embed-range-wrapper span.hm-embed-range:before,
.hm-embed-range-wrapper span.hm-embed-range:after {
  content: '...';
}

.hm-embed-range-wrapper span.hm-embed-range {
  /* font-size: 1.2em !important; */
  font-weight: lighter !important;
  font-style: italic !important;
}
