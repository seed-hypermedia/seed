# Performance Dashboard

A modern visualization tool for monitoring performance metrics across our applications.

## Overview

This dashboard provides a visual interface to explore performance test results for both our desktop Electron application and web applications (web app and landing page). It reads JSON files generated by the performance test suites and displays metrics in an organized and user-friendly way.

## Features

- View performance metrics for multiple applications:
  - Electron desktop application
  - Web application
  - Landing page
- Examine detailed metrics for each test scenario
- Compare results across different test runs
- Visualize performance trends over time
- Monitor Core Web Vitals for web applications
- Track resource usage for desktop application

## Development

### Prerequisites

- Node.js 18 or higher
- pnpm package manager

### Installation

```bash
# Install dependencies
pnpm install
```

### Development Server

```bash
# Start the development server
pnpm dev
```

### Building for Production

```bash
# Build the dashboard for production
pnpm build
```

### Serving the Production Build

```bash
# Serve the production build locally
pnpm serve
```

## Project Structure

```
src/
├── App.tsx                    # Main application component
├── types.ts                   # TypeScript interfaces for performance data
├── utils/
│   └── data.ts               # Data loading and transformation functions
└── components/
    ├── ElectronPerformance/  # Desktop app performance visualization
    └── WebPerformance/       # Web apps performance visualization
```

## Integration with Performance Tests

The dashboard reads performance test results from two locations:

### Electron Performance Results
- Source: `../desktop/results`
- Destination: `public/results/electron`
- Contains: App startup metrics, memory usage, CPU usage, and performance scenarios
- Format: JSON files with timestamped performance metrics

### Web Performance Results
- Source: `public/web-perf-data/{web|landing}`
- Contains: Core Web Vitals, page load metrics, and Lighthouse scores
- Format: JSON files with performance metrics for both mobile and desktop devices

## Data Structure

### Electron Performance Data
```json
{
  "metrics": {
    "app-startup": {
      "timeToInteractive": 2574,
      "appStartupTime": 2574,
      "jsHeapUsedSize": 6243304,
      "cpuUsage": {
        "percentCPUUsage": 15
      }
    }
  }
}
```

### Web Performance Data
```json
{
  "timestamp": "2025-05-22T14:26:03.919Z",
  "app": "web",
  "mobile": {
    "lcp": 2500,
    "inp": 100,
    "cls": 0.1,
    "ttfb": 200
  },
  "desktop": {
    "lcp": 2000,
    "inp": 80,
    "cls": 0.05,
    "ttfb": 150
  }
}
```

## Deployment

The dashboard can be deployed as a static site. The build output is in the `dist/` directory and can be served by any static file server.

## Updating Performance Data

The dashboard automatically updates when new performance test results are available. To update the data:

1. For Electron performance:
   ```bash
   cd ../performance
   pnpm test
   ```

2. For Web performance:
   ```bash
   cd ../perf-web
   pnpm test web    # Test web app
   pnpm test landing # Test landing page
   ```

3. Copy results to the dashboard:
   ```bash
   cd ../performance-dashboard
   pnpm copy-results
   ```
